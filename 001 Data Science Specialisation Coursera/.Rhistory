library(dplyr)
library(tidyr)
library(data.table)
library(readr)
library(lubridate)
# Exploratory Data Analysis
setwd("C:/Users/daniele.parenti/Dropbox/R/R Specialisation/datasciencecoursera/Exploratory Data Analysis")
library(dplyr)
library(tidyr)
library(data.table)
library(readr)
library(lubridate)
# Quesiton:
# Which counties in the United States have the highest levels of ambient ozone pollution?
ozone<-read_csv("hourly_44201_2014.csv",col_types = "ccnccnnccccccncnnccccccc")
names(ozone)<-make.names(names(ozone))
dim(ozone)
str(ozone)
head(ozone[,c(6:7,10)])
tail(ozone[,c(6:7,10)])
table(ozone$Time.Local)
select(ozone,State.Name)%>%unique%>%nrow
unique(ozone$State.Name)
summary(ozone$Sample.Measurement)
quantile(ozone$Sample.Measurement,seq(0,1,0.1))
ranking<-tbl_df(ozone) %>% group_by(State.Name,County.Name) %>%
summarize(ozonemean=mean(Sample.Measurement)) %>%
as.data.frame %>% arrange(desc(ozonemean))
head(ranking,10)
filter(ozone,State.Name=="California" & County.Name == "Mariposa") %>% nrow
#ozone<-mutate(ozone,Date.Local=as.Date(Date.))
head(ozone$Date.Local)
tail(ozone$Date.Local)
ozone<-mutate(ozone,Date.Local=ymd(Date.Local))
ozone<-tbl_df(ozone)
ozone
summarize(ozone=mean(Sample.Measurement))
filter(ozone,State.Name=="California" & County.Name=="Mariposa") %>%
mutate(month=factor(months(Date.Local),levels=month.name)) %>%
group_by(month) %>%
summarize(ozone=mean(Sample.Measurement))
summarize(ozone=mean(Sample.Measurement))
filter(ozone,State.Name=="Oklahoma" & County.Name=="Caddo") %>%
mutate(month=factor(months(Date.Local),levels=month.name)) %>%
group_by(month) %>%
summarize(ozone=mean(Sample.Measurement))
setwd("C:/Users/daniele.parenti/Dropbox/R/R Specialisation/datasciencecoursera/Exploratory Data Analysis")
library(dplyr)
library(tidyr)
library(data.table)
library(readr)
library(lubridate)
?readr
??readr
ozone<-read_csv("RD_501_88101_2013-0.txt",delim="|")
ozone<-read_csv("RD_501_88101_2013-0.txt",delim="\|")
ozone<-read_csv("RD_501_88101_2013-0.txt",delim="'|")
ozone<-read_csv("RD_501_88101_2013-0.txt")
pm25<-read_csv("RD_501_88101_2013-0.txt")
rm(ozone)
rm(ranking)
pm25<-read.table("RD_501_88101_2013-0.txt",sep = "|")
pm25<-read_csv("daily_88101_2015",col_types = "iiiiinnccccccciinniiicccccccc"
pm25<-read_csv("daily_88101_2015",col_types = "iiiiinnccccccciinniiicccccccc")
pm25<-read_csv("daily_88101_2015",col_types = "iiiiinnccccccciinniiicccccccc")
pm25<-read_csv("daily_88101_2015.csv",col_types = "iiiiinnccccccciinniiicccccccc")
problems(...)
pm25<-read_csv("daily_88101_2015.csv",col_types = "ccccccccccccccccccccccccccccc")
names(pm25)<-make.names(names(pm25))
pm25<-read_csv("daily_88101_2015.csv",col_types = "ccccinncccccccinnnnnccccccccc")
names(pm25)<-make.names(names(pm25))
pm25<-tbl_df(pm25)
pm25
fivenum(pm$Arithmetic.Mean)
pm25<-read_csv("daily_88101_2015.csv",col_types = "ccccinncccccccinnnnnccccccccc")
names(pm25)<-make.names(names(pm25))
fivenum(pm$Arithmetic.Mean)
fivenum(pm25$Arithmetic.Mean)
summary(pm25$Arithmetic.Mean)
boxplot(pm25$Arithmetic.Mean,col="blue")
filter(pm25,Arithmetic.Mean > 25) %>% select(State.Name,County.Name,Arithmetic.Mean)
library(maps)
install.packages("maps")
library(maps)
map("county","alaska")
map("county","california")
map("county","alaska")
head(filter(pm25,Arithmetic.Mean > 25) %>% select(State.Name,County.Name,Arithmetic.Mean),10)
head(filter(pm25,Arithmetic.Mean > 25) %>% select(State.Name,County.Name,Arithmetic.Mean),20)
map("county","alabama")
arrange(desc(Arithmetic.Mean))
%>% select(State.Name,County.Name,Arithmetic.Mean) %>%
arrange(desc(Arithmetic.Mean))
filter(pm25,Arithmetic.Mean > 25) %>% select(State.Name,County.Name,Arithmetic.Mean) %>%
arrange(desc(Arithmetic.Mean))
map("county","california")
with(filter(pm25,Arithmetic.Mean>99,points(Longitude,Latitude)))
map("county","california")
with(filter(pm25,Arithmetic.Mean>99),points(Longitude,Latitude))
hist(pm25$Arithmetic.Mean, col="green")
rug(pm25$Arithmetic.Mean)
hist(pm25$Arithmetic.Mean, col="green",breaks=100)
rug(pm25$Arithmetic.Mean)
boxplot(pm25$Arithmetic.Mean,col="blue")
abline(h=12)
hist(pm25$Arithmetic.Mean, col="green",breaks=100)
abline(v=12,lwd=2)
abline(v=median(pm25$Arithmetic.Mean),lwd=3,col="red")
rug(pm25$Arithmetic.Mean)
sapply(pm25,length(unique))
sapply(pm25,length(unique()))
unique(pm25$Site.Num)
length(unique(pm25$Method.Code))
length(unique(pm25$Sample.Duration))
boxplot(pm25$Arithmetic.Mean ~ pm25$Sample.Duration, col="blue")
data("airquality")
with(airquality,{plot(Temp,Ozone),lines(loess.smooth(Temp,Ozone))})
with(airquality,{plot(Temp,Ozone)lines(loess.smooth(Temp,Ozone))})
(airquality,{
plot(Temp,Ozone)
lines(loess.smooth(Temp,Ozone))
})
with(airquality,{
plot(Temp,Ozone)
lines(loess.smooth(Temp,Ozone))
})
library(lattice)
state <- data.frame(state.x77, region = state.region)
xyplot(Life.Exp ~ Income | region, data = state, layout = c(4, 1))
library(ggplot2)
install.packages("ggplot2")
library(ggplot2)
data(mpg)
qplot(displ,hwy,data=mpg)
set.seed(1234)
x <- rnorm(12, rep(1:3, each = 4), 0.2)
y <- rnorm(12, rep(c(1, 2, 1), each = 4), 0.2)
plot(x, y, col = "blue", pch = 19, cex = 2)
text(x + 0.05, y + 0.05, labels = as.character(1:12))
dataFrame <- data.frame(x=x, y=y)
dist(dataFrame)
rdistxy <- as.matrix(dist(dataFrame))
diag(rdistxy) <- diag(rdistxy) + 100000
rdistxy
ind <- which(rdistxy == min(rdistxy), arr.ind = TRUE)
ind
